# Работа с системой радио в ангаре

## Описание системы
Система позволяет управлять воспроизведением музыки в ангаре с возможностью:
1. Включения/выключения радио
2. Плавного перехода между треками
3. Автоматического возобновления музыки ангара через заданное время после выключения радио

## Требования
- Unity 2019.4 или новее
- Наличие коллайдера на объекте-кнопке
- Назначенные аудио источники

## Установка

1. **Основные скрипты**:
   - Поместите `Hangar_Music_Player_NT.cs` и `Hangar_Radio_Manager_NT.cs` в папку `Assets/Scripts/`
   - Поместите `Hangar_Radio_Manager_NT_Editor.cs` в папку `Assets/Editor/`

2. **Настройка сцены**:
   - Создайте пустой GameObject и назовите его "RadioSystem"
   - Добавьте компоненты:
     - `AudioSource` (для радио)
     - `Hangar_Music_Player_NT`
     - `Hangar_Radio_Manager_NT`

3. **Назначение параметров**:
   - В `Hangar_Music_Player_NT`:
     - Добавьте аудиоклипы в список `Audio_Clips`
     - Установите `Delay_Range` (например, 1-5 секунд)
   - В `Hangar_Radio_Manager_NT`:
     - Перетащите объект с `Hangar_Music_Player_NT` в поле `Hangar Music Player`
     - Назначьте `AudioSource` для радио
     - Установите `Fade Duration` (рекомендуется 1-3 секунды)
     - Установите `Hangar Music Delay` (20 секунд по умолчанию)

## Использование

### Базовый функционал
1. **Включение радио**:
   - Нажмите на объект с коллайдером
   - Музыка ангара плавно угаснет
   - Радио начнет играть с плавным увеличением громкости

2. **Выключение радио**:
   - Снова нажмите на объект
   - Радио выключится с плавным затуханием
   - Через 20 секунд автоматически включится музыка ангара

### Дополнительные возможности
- **Изменение задержки**:
  - В инспекторе измените значение `Hangar Music Delay`
  - Минимальное значение: 0 (включение сразу)
  - Максимальное: любое положительное число

- **Настройка fade-эффектов**:
  - Измените `Fade Duration` для регулировки плавности переходов

- **Добавление новых треков**:
  - В компоненте `Hangar_Music_Player_NT` добавьте новые аудиоклипы в список `Audio_Clips`

## Решение проблем

1. **Кнопка не реагирует**:
   - Убедитесь, что на объекте есть коллайдер
   - Проверьте, что камера имеет тег "MainCamera"

2. **Нет звука**:
   - Проверьте назначение аудио источников
   - Убедитесь, что громкость не установлена на 0
   - Проверьте настройки аудио в Unity (Edit → Project Settings → Audio)

3. **Музыка ангара не возобновляется**:
   - Проверьте значение `Hangar Music Delay`
   - Убедитесь, что `Hangar_Music_Player_NT` активен

## Примеры использования

1. **Кнопка радио в интерфейсе**:
   ```csharp
   // Для UI кнопки создайте отдельный скрипт:
   public class RadioButtonUI : MonoBehaviour
   {
       public Hangar_Radio_Manager_NT radioManager;
       
       public void OnButtonClick()
       {
           radioManager.ToggleRadio();
       }
   }
   ```

2. **Изменение задержки в runtime**:
   ```csharp
   // Где-то в вашем коде:
   GetComponent<Hangar_Radio_Manager_NT>().Hangar_Music_Delay = 30f;
   ```

## Оптимизация
- Для экономии ресурсов рекомендуется:
  - Использовать один `AudioSource` для всех эффектов
  - Оптимизировать качество аудиофайлов
  - Отключать систему, когда она не нужна

Система готова к использованию! Для дополнительной настройки обращайтесь к комментариям в коде.
